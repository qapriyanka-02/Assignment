package com.mypractise;

import java.util.ArrayList;
import java.util.List;
import java.util.Set;

import org.openqa.selenium.Alert;
import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.AfterClass;
import org.testng.annotations.AfterMethod;

import io.github.bonigarcia.wdm.WebDriverManager;

public class RSA_Practise {

	public WebDriver driver;

	public void RSA_Login() throws InterruptedException {
		
		WebDriverManager.chromedriver().setup();
		driver=new ChromeDriver();
		driver.get("https://rahulshettyacademy.com/AutomationPractice/");
		driver.manage().window().maximize();
		
	}
	
	
	public void radiobuttoncode() throws InterruptedException {
		List<WebElement> rdbbtn= driver.findElements(By.xpath("//fieldset//input[@type='radio']"));
		for(WebElement radio:rdbbtn) {
			System.err.println(radio.getAttribute("value"));
			radio.click();
			Thread.sleep(1000);
			System.out.println("Radio button is clicked");
		}	
	}

	public void Suggestiondropdowncode() throws InterruptedException {
		//li[contains(.,'India')]/normalize-space()  // this xpath is use to get the match and exact element
		WebElement drp= driver.findElement(By.id("autocomplete"));
		drp.click();  
		drp.sendKeys("india");
		// WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(2));
		List<WebElement> selectCountry=driver.findElements(By.xpath("//ul[@id='ui-id-1']//li/div[@id='ui-id-45']"));
	//	wait.until(ExpectedConditions.visibilityOf(selectCountry));
		System.out.println(selectCountry.size());
		
		for(int i=0; i< selectCountry.size(); i++) {
			System.out.println(selectCountry.get(i).getText());
			if(selectCountry.get(i).getText().equals("India")) {
				Thread.sleep(1000);
				selectCountry.get(i).click();
				Thread.sleep(1000);
				break;
			}
		}
	}
	
	public void FixTable() {
		
		JavascriptExecutor js=(JavascriptExecutor) driver;
		js.executeScript("window.scrollBy(0,1000)");
			
		int rows=driver.findElements(By.xpath("//table[@name='courses']//tr")).size();
		System.out.println("Count of rows: " + rows);
		
		int columns=driver.findElements(By.xpath("//table[@name='courses']//th")).size();
		System.out.println("Count of columns: " + columns);		
		
		//read data from specific column
		String tabledata_text=driver.findElement(By.xpath("//table[@name='courses']//tr[2]/td[2]")).getText();
		System.out.println("Table data is: " + tabledata_text);
		
		//read all data from table
		for(int r=2; r<=rows; r++) {
			for(int c=1; c<=columns; c++) {
			String allrows=	driver.findElement(By.xpath("//table[@name='courses']//tr["+r+"]/td["+c+"]")).getText();
			System.out.println(allrows +"\t");
			}
			System.err.println();
		}
	}
	
	public void check_dropdown() {
		
		WebElement drp_btn= driver.findElement(By.xpath("//legend[text()='Dropdown Example']"));
		drp_btn.click();
		
		List<WebElement> drp_value=driver.findElements(By.xpath("//select[@id='dropdown-class-example']/option"));
		
	
		for(int i=0;i<drp_value.size();i++) {
			drp_value.get(i).click();
		}
		System.out.println("dropdown value selected" + drp_value);
	}
	
	public void checkbox() {
		
		List<WebElement> checkbox= driver.findElements(By.xpath("//fieldset//label//following-sibling::input[@type='checkbox']"));
		
		for(WebElement allcheckbox: checkbox) {
			allcheckbox.getSize();
			System.out.println("size of checkbox" + allcheckbox);
			allcheckbox.click();
			System.out.println("check box value selected" + allcheckbox);
		}	
	}
	
	public void switch_window() throws InterruptedException {
		
		driver.findElement(By.xpath("//fieldset//button[@id='openwindow']")).click();
		Thread.sleep(1000);
		Set<String> allhandles=driver.getWindowHandles();
		for(String handles: allhandles) {
			driver.switchTo().window(handles);
			System.out.println("print title of the page: "+driver.getTitle());
			driver.switchTo().defaultContent();
		}	
	}
	
	public void switch_windoww() throws InterruptedException {
		
		driver.findElement(By.xpath("//fieldset//a[text()='Open Tab']")).click();
		Thread.sleep(1000);
		Set<String> allhandles=driver.getWindowHandles();
		for(String handles: allhandles) {
			driver.switchTo().window(handles);
			System.out.println("print title of the page: "+driver.getTitle());
			driver.switchTo().defaultContent();
		}	
	}
	
	public void switch_tab() {
		
		driver.findElement(By.xpath("//fieldset//a[text()='Open Tab']")).click();
		List<String>  tabs= new ArrayList<String>(driver.getWindowHandles());		
		for(int i=0; i< tabs.size(); i++) {
			
			driver.switchTo().window(tabs.get(i));
			System.out.println("title of the tab" + driver.getTitle());
			driver.switchTo().defaultContent();
		}
	}
	
	public void alert_popup() throws InterruptedException {
		
		driver.findElement(By.xpath("//input[@id='name']")).sendKeys("This is an alert box text");
		WebElement alert_btn=driver.findElement(By.xpath("//input[@id='alertbtn']"));
		alert_btn.click();
		Alert alert= driver.switchTo().alert();
		alert.accept();
		Thread.sleep(1000);
		WebElement alert_dismiss=driver.findElement(By.xpath("//input[@id='confirmbtn']"));
		alert_dismiss.click();
		alert.dismiss();
	}
	
	@AfterClass
	public void teardown() {
		driver.close();
	}
}
